{"version":3,"sources":["utils/index.js","components/Video/index.jsx","components/NavBar/index.js","components/Home/index.jsx","App.js","index.js"],"names":["changeCssVideos","main","elms","minWidth","offsetWidth","height","String","width","videos","querySelectorAll","a","length","style","minHeight","setProperty","peerConnectionConfig","iceServers","urls","socket","socketId","Video","history","useHistory","userVideoRef","useRef","window","location","pathname","origin","useState","setIsGlobalVideoActive","setIsGlobalAudioActive","faker","internet","userName","username","setUsername","isAskForUsername","setIsAskForUsername","isVideoActive","setIsVideoActive","isAudioActive","setIsAudioActive","isScreenActive","setIsScreenActive","isChatModalOpen","setIsChatModalOpen","isScreenAvailable","setIsScreenAvailable","chatMessages","setChatMessages","userMessage","setUserMessage","totalNewMessages","setTotalNewMessages","connections","handleToggleChatModal","gotMessageFromServer","fromId","message","signal","JSON","parse","sdp","setRemoteDescription","RTCSessionDescription","type","createAnswer","description","setLocalDescription","emit","stringify","localDescription","ice","addIceCandidate","RTCIceCandidate","catch","e","console","log","getPermissions","navigator","mediaDevices","getUserMedia","video","active","audio","getDisplayMedia","then","stream","localStream","current","srcObject","addMessage","data","sender","socketIdSender","prevState","useEffect","io","connect","secure","path","on","id","document","querySelector","parentNode","removeChild","getElementById","black","canvas","Object","assign","createElement","getContext","fillRect","captureStream","getVideoTracks","enabled","silence","ctx","AudioContext","oscillator","createOscillator","dst","createMediaStreamDestination","resume","start","getAudioTracks","clients","forEach","socketListId","RTCPeerConnection","onicecandidate","event","candidate","onaddstream","searchVidep","cssMesure","css","maxHeight","margin","borderStyle","borderColor","objectFit","i","setAttribute","autoplay","playsinline","appendChild","undefined","addStream","MediaStream","blackSilence","id2","createOffer","userAgent","toLowerCase","vendor","test","match","isChrome","className","Input","placeholder","value","onChange","target","variant","color","onClick","ref","autoPlay","muted","IconButton","getTracks","track","stop","err","setTimeout","push","Badge","badgeContent","max","Modal","show","onHide","Header","closeButton","Title","Body","map","item","index","key","textAlign","wordBreak","Footer","paddingTop","disable","text","clipboard","writeText","success","error","textArea","body","focus","select","execCommand","Row","NavBar","Home","roomId","setRoomId","src","alt","tempRoomId","trim","Math","random","toString","substring","App","props","exact","component","ReactDOM","render"],"mappings":"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","file":"static/js/main.01284f4b.chunk.js","sourcesContent":["export function isChrome() {\n\tlet userAgent = (navigator && (navigator.userAgent || \"\")).toLowerCase();\n\tlet vendor = (navigator && (navigator.vendor || \"\")).toLowerCase();\n\tlet matchChrome = /google inc/.test(vendor)\n\t\t? userAgent.match(/(?:chrome|crios)\\/(\\d+)/)\n\t\t: null;\n\t// let matchFirefox = userAgent.match(/(?:firefox|fxios)\\/(\\d+)/)\n\t// return matchChrome !== null || matchFirefox !== null\n\treturn matchChrome !== null;\n}\n\nexport function changeCssVideos(main, elms) {\n\tif (main) {\n\t\tlet widthMain = main.offsetWidth;\n\t\tlet minWidth = \"30%\";\n\t\tif ((widthMain * 30) / 100 < 300) {\n\t\t\tminWidth = \"300px\";\n\t\t}\n\t\tlet minHeight = \"40%\";\n\n\t\tlet height = String(100 / elms) + \"%\";\n\t\tlet width = \"\";\n\t\tif (elms === 0 || elms === 1) {\n\t\t\twidth = \"100%\";\n\t\t\theight = \"100%\";\n\t\t} else if (elms === 2) {\n\t\t\twidth = \"45%\";\n\t\t\theight = \"100%\";\n\t\t} else if (elms === 3 || elms === 4) {\n\t\t\twidth = \"35%\";\n\t\t\theight = \"50%\";\n\t\t} else {\n\t\t\twidth = String(100 / elms) + \"%\";\n\t\t}\n\n\t\tlet videos = main.querySelectorAll(\"video\");\n\t\tfor (let a = 0; a < videos.length; ++a) {\n\t\t\tvideos[a].style.minWidth = minWidth;\n\t\t\tvideos[a].style.minHeight = minHeight;\n\t\t\tvideos[a].style.setProperty(\"width\", width);\n\t\t\tvideos[a].style.setProperty(\"height\", height);\n\t\t}\n\n\t\treturn { minWidth, minHeight, width, height };\n\t}\n}\n","import React, { useState, useRef, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport io from \"socket.io-client\";\nimport faker from \"faker\";\nimport { isChrome, changeCssVideos } from \"../../utils\";\nimport { IconButton, Badge, Input } from \"@material-ui/core\";\nimport { Center, VStack, Button } from \"@chakra-ui/react\";\nimport VideocamIcon from \"@material-ui/icons/Videocam\";\nimport VideocamOffIcon from \"@material-ui/icons/VideocamOff\";\nimport MicIcon from \"@material-ui/icons/Mic\";\nimport MicOffIcon from \"@material-ui/icons/MicOff\";\nimport ScreenShareIcon from \"@material-ui/icons/ScreenShare\";\nimport StopScreenShareIcon from \"@material-ui/icons/StopScreenShare\";\nimport CallEndIcon from \"@material-ui/icons/CallEnd\";\nimport ChatIcon from \"@material-ui/icons/Chat\";\nimport { message } from \"antd\";\nimport { Modal, Row } from \"react-bootstrap\";\nimport \"antd/dist/antd.css\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport \"./Video.scss\";\n\nconst server_url =\n\tprocess.env.NODE_ENV === \"production\"\n\t\t? \"https://incog-317412.el.r.appspot.com/\"\n\t\t: \"https://incog-317412.el.r.appspot.com/\";\n\nconst peerConnectionConfig = {\n\ticeServers: [{ urls: \"stun:stun.l.google.com:19302\" }],\n};\n\nlet socket = null;\nlet socketId = null;\nlet elms = 0;\n\nconst Video = () => {\n\tconst history = useHistory();\n\tconst userVideoRef = useRef(null);\n\tconst { pathname, origin } = window.location;\n\n\t// eslint-disable-next-line\n\tconst [isGlobalVideoActive, setIsGlobalVideoActive] = useState(false);\n\t// eslint-disable-next-line\n\tconst [isGlobalAudioActive, setIsGlobalAudioActive] = useState(false);\n\n\tconst [username, setUsername] = useState(faker.internet.userName());\n\tconst [isAskForUsername, setIsAskForUsername] = useState(true);\n\tconst [isVideoActive, setIsVideoActive] = useState(true);\n\tconst [isAudioActive, setIsAudioActive] = useState(true);\n\tconst [isScreenActive, setIsScreenActive] = useState(false);\n\tconst [isChatModalOpen, setIsChatModalOpen] = useState(false);\n\tconst [isScreenAvailable, setIsScreenAvailable] = useState(false);\n\tconst [chatMessages, setChatMessages] = useState([]);\n\tconst [userMessage, setUserMessage] = useState(\"\");\n\tconst [totalNewMessages, setTotalNewMessages] = useState(0);\n\n\tconst connections = {};\n\n\tconst handleToggleVideo = () => setIsVideoActive(!isVideoActive);\n\tconst handleToggleAudio = () => setIsAudioActive(!isAudioActive);\n\tconst handleToggleScreen = () => setIsScreenActive(!isScreenActive);\n\tconst handleToggleChatModal = () => {\n\t\tif (!isChatModalOpen) {\n\t\t\tsetTotalNewMessages(0);\n\t\t}\n\t\tsetIsChatModalOpen(!isChatModalOpen);\n\t};\n\tconst sendChatMessage = () => {\n\t\tif (socket) socket.emit(\"chat-message\", userMessage, username);\n\t\tsetUserMessage(\"\");\n\t};\n\n\tconst handleEndCall = () => {\n\t\tif (socket) socket = null;\n\t\ttry {\n\t\t\tlet tracks = userVideoRef.current.srcObject.getTracks();\n\t\t\ttracks.forEach((track) => track.stop());\n\t\t} catch (err) {\n\t\t\tconsole.log(err);\n\t\t}\n\t\tsetTimeout(() => {\n\t\t\thistory.push(\"/\");\n\t\t}, 100);\n\t};\n\n\tconst handleCopyUrl = () => {\n\t\tlet text = origin + pathname;\n\t\tif (!navigator.clipboard) {\n\t\t\tlet textArea = document.createElement(\"textarea\");\n\t\t\ttextArea.value = text;\n\t\t\tdocument.body.appendChild(textArea);\n\t\t\ttextArea.focus();\n\t\t\ttextArea.select();\n\t\t\ttry {\n\t\t\t\tdocument.execCommand(\"copy\");\n\t\t\t\tmessage.success(\"Link copied to clipboard!\");\n\t\t\t} catch (err) {\n\t\t\t\tmessage.error(\"Failed to copy\");\n\t\t\t}\n\t\t\tdocument.body.removeChild(textArea);\n\t\t\treturn;\n\t\t}\n\t\tnavigator.clipboard.writeText(text).then(\n\t\t\t() => {\n\t\t\t\tmessage.success(\"Link copied to clipboard!\");\n\t\t\t},\n\t\t\t() => {\n\t\t\t\tmessage.error(\"Failed to copy\");\n\t\t\t}\n\t\t);\n\t};\n\n\t// Callback Functions\n\n\tconst gotMessageFromServer = async (fromId, message) => {\n\t\tlet signal = JSON.parse(message);\n\n\t\tif (fromId !== socketId) {\n\t\t\tif (signal.sdp) {\n\t\t\t\tawait connections[fromId].setRemoteDescription(\n\t\t\t\t\tnew RTCSessionDescription(signal.sdp)\n\t\t\t\t);\n\t\t\t\tif (signal.sdp.type === \"offer\") {\n\t\t\t\t\tconst description = await connections[\n\t\t\t\t\t\tfromId\n\t\t\t\t\t].createAnswer();\n\t\t\t\t\tawait connections[fromId].setLocalDescription(description);\n\t\t\t\t\tsocket.emit(\n\t\t\t\t\t\t\"signal\",\n\t\t\t\t\t\tfromId,\n\t\t\t\t\t\tJSON.stringify({\n\t\t\t\t\t\t\tsdp: connections[fromId].localDescription,\n\t\t\t\t\t\t})\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (signal.ice) {\n\t\t\t\tconnections[fromId]\n\t\t\t\t\t.addIceCandidate(new RTCIceCandidate(signal.ice))\n\t\t\t\t\t.catch((e) => console.log(e));\n\t\t\t}\n\t\t}\n\t};\n\n\tconst getPermissions = async () => {\n\t\ttry {\n\t\t\tconst videoValidation = await navigator.mediaDevices.getUserMedia({\n\t\t\t\tvideo: true,\n\t\t\t});\n\t\t\tif (videoValidation.active) setIsGlobalVideoActive(true);\n\t\t\telse setIsGlobalVideoActive(false);\n\n\t\t\tconst audioValidation = await navigator.mediaDevices.getUserMedia({\n\t\t\t\taudio: true,\n\t\t\t});\n\t\t\tif (audioValidation.active) setIsGlobalAudioActive(true);\n\t\t\telse setIsGlobalAudioActive(false);\n\n\t\t\tif (navigator.mediaDevices.getDisplayMedia) {\n\t\t\t\tsetIsScreenAvailable(true);\n\t\t\t} else {\n\t\t\t\tsetIsScreenAvailable(false);\n\t\t\t}\n\n\t\t\tif (isVideoActive || isAudioActive) {\n\t\t\t\tnavigator.mediaDevices\n\t\t\t\t\t.getUserMedia({\n\t\t\t\t\t\tvideo: isVideoActive,\n\t\t\t\t\t\taudio: isAudioActive,\n\t\t\t\t\t})\n\t\t\t\t\t.then((stream) => {\n\t\t\t\t\t\twindow.localStream = stream;\n\t\t\t\t\t\tuserVideoRef.current.srcObject = window.localStream;\n\t\t\t\t\t})\n\t\t\t\t\t.then((stream) => {})\n\t\t\t\t\t.catch((e) => console.log(e));\n\t\t\t}\n\t\t} catch (e) {\n\t\t\treturn null;\n\t\t}\n\t};\n\n\tconst addMessage = (data, sender, socketIdSender) => {\n\t\tsetChatMessages((prevState) => [\n\t\t\t...prevState,\n\t\t\t{ sender: sender, data: data },\n\t\t]);\n\t\tif (socketIdSender !== socketId) {\n\t\t\tif (!isChatModalOpen) setTotalNewMessages(totalNewMessages + 1);\n\t\t\telse setTotalNewMessages(0);\n\t\t}\n\t};\n\n\t// Callback Functions\n\n\tuseEffect(() => {\n\t\tgetPermissions();\n\t\t// eslint-disable-next-line\n\t}, [isAskForUsername, isVideoActive, isAudioActive]);\n\n\tuseEffect(() => {\n\t\tif (!isAskForUsername) {\n\t\t\tsocket = io.connect(server_url, {\n\t\t\t\tsecure: true,\n\t\t\t\tpath: \"/api/v1/conference/join\",\n\t\t\t});\n\n\t\t\tsocket.on(\"signal\", gotMessageFromServer);\n\n\t\t\tsocket.on(\"connect\", () => {\n\t\t\t\tsocket.emit(\"join-call\", origin + pathname);\n\t\t\t\tsocketId = socket.id;\n\t\t\t});\n\n\t\t\tsocket.on(\"chat-message\", addMessage);\n\n\t\t\tsocket.on(\"user-left\", (id) => {\n\t\t\t\tlet video = document.querySelector(`[data-socket=\"${id}\"]`);\n\t\t\t\tif (video !== null) {\n\t\t\t\t\telms--;\n\t\t\t\t\tvideo.parentNode.removeChild(video);\n\n\t\t\t\t\tlet main = document.getElementById(\"main\");\n\t\t\t\t\tchangeCssVideos(main, elms);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tconst black = ({ width = 640, height = 480 } = {}) => {\n\t\t\t\tlet canvas = Object.assign(document.createElement(\"canvas\"), {\n\t\t\t\t\twidth,\n\t\t\t\t\theight,\n\t\t\t\t});\n\t\t\t\tcanvas.getContext(\"2d\").fillRect(0, 0, width, height);\n\t\t\t\tlet stream = canvas.captureStream();\n\t\t\t\treturn Object.assign(stream.getVideoTracks()[0], {\n\t\t\t\t\tenabled: false,\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tconst silence = () => {\n\t\t\t\tlet ctx = new AudioContext();\n\t\t\t\tlet oscillator = ctx.createOscillator();\n\t\t\t\tlet dst = oscillator.connect(\n\t\t\t\t\tctx.createMediaStreamDestination()\n\t\t\t\t);\n\t\t\t\tctx.resume();\n\t\t\t\toscillator.start();\n\t\t\t\tctx.resume();\n\t\t\t\treturn Object.assign(dst.stream.getAudioTracks()[0], {\n\t\t\t\t\tenabled: false,\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tsocket.on(\"user-joined\", (id, clients) => {\n\t\t\t\tclients.forEach((socketListId) => {\n\t\t\t\t\tconnections[socketListId] = new RTCPeerConnection(\n\t\t\t\t\t\tpeerConnectionConfig\n\t\t\t\t\t);\n\t\t\t\t\t// Wait for their ice candidate\n\t\t\t\t\tconnections[socketListId].onicecandidate = function (\n\t\t\t\t\t\tevent\n\t\t\t\t\t) {\n\t\t\t\t\t\tif (event.candidate != null) {\n\t\t\t\t\t\t\tsocket.emit(\n\t\t\t\t\t\t\t\t\"signal\",\n\t\t\t\t\t\t\t\tsocketListId,\n\t\t\t\t\t\t\t\tJSON.stringify({ ice: event.candidate })\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\t// Wait for their video stream\n\t\t\t\t\tconnections[socketListId].onaddstream = (event) => {\n\t\t\t\t\t\t// TODO mute button, full screen button\n\t\t\t\t\t\tlet searchVidep = document.querySelector(\n\t\t\t\t\t\t\t`[data-socket=\"${socketListId}\"]`\n\t\t\t\t\t\t);\n\t\t\t\t\t\tif (searchVidep !== null) {\n\t\t\t\t\t\t\t// if i don't do this check it make an empyt square\n\t\t\t\t\t\t\tsearchVidep.srcObject = event.stream;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\telms = clients.length;\n\t\t\t\t\t\t\tlet main = document.getElementById(\"main\");\n\t\t\t\t\t\t\tlet cssMesure = changeCssVideos(main, elms);\n\t\t\t\t\t\t\tif (cssMesure) {\n\t\t\t\t\t\t\t\tlet video = document.createElement(\"video\");\n\n\t\t\t\t\t\t\t\tlet css = {\n\t\t\t\t\t\t\t\t\tminWidth: cssMesure.minWidth,\n\t\t\t\t\t\t\t\t\tminHeight: cssMesure.minHeight,\n\t\t\t\t\t\t\t\t\tmaxHeight: \"100%\",\n\t\t\t\t\t\t\t\t\tmargin: \"10px\",\n\t\t\t\t\t\t\t\t\tborderStyle: \"solid\",\n\t\t\t\t\t\t\t\t\tborderColor: \"#bdbdbd\",\n\t\t\t\t\t\t\t\t\tobjectFit: \"fill\",\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tfor (let i in css) video.style[i] = css[i];\n\n\t\t\t\t\t\t\t\tvideo.style.setProperty(\n\t\t\t\t\t\t\t\t\t\"width\",\n\t\t\t\t\t\t\t\t\tcssMesure.width\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tvideo.style.setProperty(\n\t\t\t\t\t\t\t\t\t\"height\",\n\t\t\t\t\t\t\t\t\tcssMesure.height\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tvideo.setAttribute(\"data-socket\", socketListId);\n\t\t\t\t\t\t\t\tvideo.srcObject = event.stream;\n\t\t\t\t\t\t\t\tvideo.autoplay = true;\n\t\t\t\t\t\t\t\tvideo.playsinline = true;\n\n\t\t\t\t\t\t\t\tmain.appendChild(video);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\t// Add the local video stream\n\t\t\t\t\tif (\n\t\t\t\t\t\twindow.localStream !== undefined &&\n\t\t\t\t\t\twindow.localStream !== null\n\t\t\t\t\t) {\n\t\t\t\t\t\tconnections[socketListId].addStream(window.localStream);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlet blackSilence = (...args) =>\n\t\t\t\t\t\t\tnew MediaStream([black(...args), silence()]);\n\t\t\t\t\t\twindow.localStream = blackSilence();\n\t\t\t\t\t\tconnections[socketListId].addStream(window.localStream);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif (id === socketId) {\n\t\t\t\t\tfor (let id2 in connections) {\n\t\t\t\t\t\tif (id2 === socketId) continue;\n\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tconnections[id2].addStream(window.localStream);\n\t\t\t\t\t\t} catch (e) {}\n\n\t\t\t\t\t\t// eslint-disable-next-line\n\t\t\t\t\t\tconnections[id2].createOffer().then((description) => {\n\t\t\t\t\t\t\tconnections[id2]\n\t\t\t\t\t\t\t\t.setLocalDescription(description)\n\t\t\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\t\t\tsocket.emit(\n\t\t\t\t\t\t\t\t\t\t\"signal\",\n\t\t\t\t\t\t\t\t\t\tid2,\n\t\t\t\t\t\t\t\t\t\tJSON.stringify({\n\t\t\t\t\t\t\t\t\t\t\tsdp: connections[id2]\n\t\t\t\t\t\t\t\t\t\t\t\t.localDescription,\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.catch((e) => console.log(e));\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\t// eslint-disable-next-line\n\t}, [isAskForUsername]);\n\n\tif (!isChrome()) {\n\t\treturn null;\n\t}\n\treturn (\n\t\t<>\n\t\t\t{isAskForUsername && (\n\t\t\t\t<Center>\n\t\t\t\t\t<VStack>\n\t\t\t\t\t\t<div className=\"username-selector__container\">\n\t\t\t\t\t\t\t<p className=\"username-selector__label\">\n\t\t\t\t\t\t\t\tSet your username\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<div className=\"username-selector__input_container\">\n\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\tplaceholder=\"Username\"\n\t\t\t\t\t\t\t\t\tvalue={username}\n\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\tsetUsername(e.target.value)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tonClick={() => setIsAskForUsername(false)}\n\t\t\t\t\t\t\t\t\tclassName=\"username-selector__button\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tConnect\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<Center>\n\t\t\t\t\t\t\t<div className=\"username-selector__preview_video_wrapper\">\n\t\t\t\t\t\t\t\t{/* <IconButton onClick={handleToggleVideo}>\n\t\t\t\t\t\t\t\t\t{isVideoActive ? (\n\t\t\t\t\t\t\t\t\t\t<VideocamIcon />\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<VideocamOffIcon />\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t<IconButton onClick={handleToggleAudio}>\n\t\t\t\t\t\t\t\t\t{isAudioActive ? (\n\t\t\t\t\t\t\t\t\t\t<MicIcon />\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<MicOffIcon />\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</IconButton> */}\n\t\t\t\t\t\t\t\t<video\n\t\t\t\t\t\t\t\t\tclassName=\"username-selector__preview_video\"\n\t\t\t\t\t\t\t\t\tid=\"my-video1\"\n\t\t\t\t\t\t\t\t\tref={userVideoRef}\n\t\t\t\t\t\t\t\t\tautoPlay\n\t\t\t\t\t\t\t\t\tmuted\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Center>\n\t\t\t\t\t</VStack>\n\t\t\t\t</Center>\n\t\t\t)}\n\t\t\t{!isAskForUsername && (\n\t\t\t\t<div>\n\t\t\t\t\t<div className=\"video_call_screen__call_buttons\">\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\tclassName=\"video_call_screen__call_buttons--webcam-icon\"\n\t\t\t\t\t\t\tonClick={handleToggleVideo}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{isVideoActive ? (\n\t\t\t\t\t\t\t\t<VideocamIcon />\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<VideocamOffIcon />\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</IconButton>\n\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\tclassName=\"video_call_screen__call_buttons--endcall-icon\"\n\t\t\t\t\t\t\tonClick={handleEndCall}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<CallEndIcon />\n\t\t\t\t\t\t</IconButton>\n\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\tclassName=\"video_call_screen__call_buttons--mic-icon\"\n\t\t\t\t\t\t\tonClick={handleToggleAudio}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{isAudioActive ? <MicIcon /> : <MicOffIcon />}\n\t\t\t\t\t\t</IconButton>\n\n\t\t\t\t\t\t{isScreenAvailable && (\n\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\tclassName=\"video_call_screen__call_buttons--screenshare-icon\"\n\t\t\t\t\t\t\t\tonClick={handleToggleScreen}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{isScreenActive ? (\n\t\t\t\t\t\t\t\t\t<ScreenShareIcon />\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<StopScreenShareIcon />\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t<Badge\n\t\t\t\t\t\t\tbadgeContent={totalNewMessages}\n\t\t\t\t\t\t\tmax={999}\n\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\tonClick={handleToggleChatModal}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\tclassName=\"video_call_screen__call_buttons--chat-icon\"\n\t\t\t\t\t\t\t\tonClick={handleToggleChatModal}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<ChatIcon />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t</Badge>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<Modal\n\t\t\t\t\t\tshow={isChatModalOpen}\n\t\t\t\t\t\tonHide={handleToggleChatModal}\n\t\t\t\t\t\tclassName=\"video_call_screen__chat_modal\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<Modal.Header closeButton>\n\t\t\t\t\t\t\t<Modal.Title>Chat Room</Modal.Title>\n\t\t\t\t\t\t</Modal.Header>\n\t\t\t\t\t\t<Modal.Body className=\"video_call_screen__chat_modal__body\">\n\t\t\t\t\t\t\t{chatMessages && chatMessages.length ? (\n\t\t\t\t\t\t\t\tchatMessages.map((item, index) => (\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tkey={`chat-messages-${index}`}\n\t\t\t\t\t\t\t\t\t\tstyle={{ textAlign: \"left\" }}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<p\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\twordBreak: \"break-all\",\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<b>{item.sender}</b>: {item.data}\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t))\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<p>No message yet</p>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Modal.Body>\n\t\t\t\t\t\t<Modal.Footer className=\"video_call_screen__chat_modal__footer\">\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\tplaceholder=\"Message\"\n\t\t\t\t\t\t\t\tvalue={userMessage}\n\t\t\t\t\t\t\t\tonChange={(e) => setUserMessage(e.target.value)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\tonClick={sendChatMessage}\n\t\t\t\t\t\t\t\tclassName=\"video_call_screen__chat_modal__send_button\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tSend\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Modal.Footer>\n\t\t\t\t\t</Modal>\n\n\t\t\t\t\t<div className=\"video_call_screen__invitation_link__container\">\n\t\t\t\t\t\t<div style={{ paddingTop: \"20px\" }}>\n\t\t\t\t\t\t\t<Input value={origin + pathname} disable=\"true\" />\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tclassName=\"video_call_screen__invitation_link__invite_button\"\n\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\tonClick={handleCopyUrl}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tCopy invite link\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<Row\n\t\t\t\t\t\t\tid=\"main\"\n\t\t\t\t\t\t\tclassName=\"video_call_screen__video_stream_container\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<video\n\t\t\t\t\t\t\t\tid=\"my-video2\"\n\t\t\t\t\t\t\t\tclassName=\"video_call_screen__video_stream\"\n\t\t\t\t\t\t\t\tref={userVideoRef}\n\t\t\t\t\t\t\t\tautoPlay\n\t\t\t\t\t\t\t\tmuted\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</>\n\t);\n};\n\nexport default Video;\n","import React from \"react\";\nimport { HStack, Center, Spacer, Button } from \"@chakra-ui/react\";\nimport \"./index.scss\";\n\nfunction NavBar() {\n\treturn (\n\t\t<div className=\"navbar__container\">\n\t\t\t<HStack>\n\t\t\t\t<div className=\" navbar__nav-item  navbar__heading\">\n\t\t\t\t\tIncogly\n\t\t\t\t</div>\n\t\t\t\t<Spacer />\n\t\t\t\t<Center>\n\t\t\t\t\t<div className=\"navbar__nav-item\">Discover</div>\n\t\t\t\t\t<div className=\"navbar__nav-item\">Blog</div>\n\t\t\t\t\t<div className=\"navbar__nav-item\">GitHub</div>\n\t\t\t\t\t<div className=\"navbar__nav-item\">Discord</div>\n\t\t\t\t</Center>\n\t\t\t\t<Spacer />\n\t\t\t\t<HStack>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\tclassName=\"navbar__nav-item navbar__button navbar__button--dark\"\n\t\t\t\t\t>\n\t\t\t\t\t\tLogin\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Spacer />\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\tclassName=\"navbar__nav-item navbar__button navbar__button--pink\"\n\t\t\t\t\t>\n\t\t\t\t\t\tSign Up\n\t\t\t\t\t</Button>\n\t\t\t\t</HStack>\n\t\t\t</HStack>\n\t\t</div>\n\t);\n}\n\nexport default NavBar;\n","import React, { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { VStack, Spacer, Input, Button } from \"@chakra-ui/react\";\nimport \"./Home.scss\";\nimport NavBar from \"../NavBar\";\n\nconst Home = () => {\n\tconst history = useHistory();\n\tconst [roomId, setRoomId] = useState(\"\");\n\n\tconst joinRoom = () => {\n\t\tlet tempRoomId;\n\t\tif (roomId) tempRoomId = roomId.trim();\n\t\telse tempRoomId = Math.random().toString(36).substring(2, 7);\n\t\thistory.push(`/${tempRoomId}`);\n\t};\n\n\treturn (\n\t\t<div className=\"home_page__container\">\n\t\t\t<NavBar />\n\t\t\t<VStack>\n\t\t\t\t<h1 className=\"home_page__heading\">\n\t\t\t\t\tConnect &amp; Collaborate,\n\t\t\t\t</h1>\n\t\t\t\t<h1 className=\"home_page__heading\">without friction.</h1>\n\t\t\t\t<p className=\"home_page__sub-heading\">\n\t\t\t\t\tGo anonymous, Go incogly.\n\t\t\t\t</p>\n\t\t\t\t<img src=\"/images/code-image.png\" alt=\"Code\" />\n\t\t\t\t<Spacer />\n\n\t\t\t\t<div className=\"home_page__url_container\">\n\t\t\t\t\t<VStack>\n\t\t\t\t\t\t<p className=\"home_page__text\">\n\t\t\t\t\t\t\tStart or join a meeting\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\tclassName=\"home_page__input_box\"\n\t\t\t\t\t\t\tplaceholder=\"URL\"\n\t\t\t\t\t\t\tvalue={roomId}\n\t\t\t\t\t\t\tonChange={(e) => setRoomId(e.target.value)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Spacer />\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tclassName=\"home_page__join_button\"\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\tonClick={joinRoom}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tStart Collaborating\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</VStack>\n\t\t\t\t</div>\n\t\t\t</VStack>\n\t\t</div>\n\t);\n};\n\nexport default Home;\n","import * as React from \"react\";\nimport Video from \"./components/Video\";\nimport Home from \"./components/Home\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport { ChakraProvider } from \"@chakra-ui/react\";\n\nconst App = (props) => {\n\treturn (\n\t\t<>\n\t\t\t<ChakraProvider>\n\t\t\t\t<Router>\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t<Route path=\"/\" exact component={Home} />\n\t\t\t\t\t\t<Route path=\"/:url\" component={Video} />\n\t\t\t\t\t</Switch>\n\t\t\t\t</Router>\n\t\t\t</ChakraProvider>\n\t\t</>\n\t);\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./global_styling/index.scss\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}